{"version":3,"file":"index.js","sources":["../../src/physics/PhysicsComponents.ts","../../src/component.ts","../../src/resource.ts","../../src/system.ts","../../src/physics/PhysicsModuleLoader.ts","../../src/physics/PhysicsPlugin.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["defineBuiltin","name","defaults","_id","Symbol","_name","_cppName","_builtin","_default","RigidBody","bodyType","gravityScale","linearDamping","angularDamping","fixedRotation","bullet","enabled","BoxCollider","halfExtents","x","y","offset","density","friction","restitution","isSensor","CircleCollider","radius","CapsuleCollider","halfHeight","BodyType","Static","Kinematic","Dynamic","LocalTransform","position","z","rotation","w","scale","WorldTransform","Parent","entity","resourceCounter","defineResource","defaultValue","id","Time","delta","elapsed","frameCount","Schedule","systemCounter","async","loadPhysicsModule","wasmUrl","factory","moduleFactory","import","default","loadPhysicsSideModule","wasmBinary","mainModule","loadDynamicLibrary","Uint8Array","loadAsync","allowUndefined","cwrap","bind","_physics_init","_physics_shutdown","_physics_createBody","_physics_destroyBody","_physics_hasBody","_physics_addBoxShape","_physics_addCircleShape","_physics_addCapsuleShape","_physics_step","_physics_setBodyTransform","_physics_getDynamicBodyCount","_physics_getDynamicBodyTransforms","_physics_collectEvents","_physics_getCollisionEnterCount","_physics_getCollisionEnterBuffer","_physics_getCollisionExitCount","_physics_getCollisionExitBuffer","_physics_getSensorEnterCount","_physics_getSensorEnterBuffer","_physics_getSensorExitCount","_physics_getSensorExitBuffer","_physics_applyForce","_physics_applyImpulse","_physics_setLinearVelocity","_physics_getLinearVelocity","_physics_setGravity","_physics_getGravity","_physics_setAngularVelocity","_physics_getAngularVelocity","_physics_applyTorque","_physics_applyAngularImpulse","_physics_updateBodyProperties","HEAPF32","HEAPU8","HEAPU32","_malloc","_free","PhysicsEvents","collisionEnters","collisionExits","sensorEnters","sensorExits","quatToAngleZ","q","Math","atan2","angleZToQuat","angle","half","cos","sin","PhysicsPlugin","constructor","config","this","wasmUrl_","factory_","config_","gravity","fixedTimestep","subStepCount","build","app","insertResource","trackedEntities","Set","cachedProps","Map","initPromise","then","module","world","resource","addSystemToSchedule","PostUpdate","params","fn","options","_params","_fn","defineSystem","_type","_resource","time","entities","getEntitiesWithComponents","currentEntities","add","rb","get","wt","has","prev","addShapeForEntity","set","delete","count","ptr","baseU32","i","entityId","worldX","worldY","worldAngle","valid","transform","localX","localY","localAngle","parentData","pwt","parentAngle","dx","dy","insert","syncDynamicTransforms","enterCount","enterPtr","base","push","entityA","entityB","normalX","normalY","contactX","contactY","exitCount","exitPtr","sensorEnterCount","sensorEnterPtr","sensorEntity","visitorEntity","sensorExitCount","sensorExitPtr","collectEvents","__physicsModule","__physicsInitPromise","box","circle","capsule","Physics","module_","Error","applyForce","force","applyImpulse","impulse","setLinearVelocity","velocity","getLinearVelocity","setGravity","getGravity","setAngularVelocity","omega","getAngularVelocity","applyTorque","torque","applyAngularImpulse"],"mappings":"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"}